{% extends 'base.html' %}
{% load formatting %}

{% block title %}Cash Rules Everything Around Me{% endblock %}

{% block content %}
    <h1>
        Do these look like transfers?
    </h1>
    
    <p>In order for things to add up properly, we need to know when we're transferring money between accounts. Doing this automatically is kinda problematic so click "save" next to the ones that actually represent money moving from one account we own to another account we own.</p>
    
    <table>
      <thead>
        <tr>
          <th>Amount</th>
          <th>Date</th>
          <th>Descriptions (outgoing / incoming)</th>
          <th>Accounts (from / to)</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        {% for transfer in proposed_transfers %}
          <tr>
            <td>{{ transfer.to_amount|format_money }}</td> 
            <td>{{ transfer.from_date_posted|date:"F j, Y" }}</td> 
            <td>
              {{ transfer.from_memo }} /<br /> 
              {{ transfer.to_memo }}
            </td> 
            <td>
              {{ transfer.from_bank_name }} - {{ transfer.from_account_number }} /<br />
              {{ transfer.to_bank_name }} - {{ transfer.to_account_number }}
            </td> 
            <td>
              <form method="POST" action="{% url 'incoming-transfers' %}">
                {% csrf_token %}
                <input type="hidden" name="from_trans" value="{{ transfer.from_transaction_id }}" />
                <input type="hidden" name="to_trans" value="{{ transfer.to_transaction_id }}" />
								<div class="input-group">
									<input class="input-group-field" type="text" name="reason" placeholder="Reason?">
									<div class="input-group-button">
										<input type="submit" class="button" value="Save">
									</div>
								</div>
              </form>
            </td> 
          </tr>
        {% endfor %}
      </tbody>
    </table>
{% endblock %}
